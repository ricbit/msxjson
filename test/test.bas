10 CLEAR 500,&H9000
20 BLOAD"JSON.BIN",R
30 M=6:N$="INVALID":F$="ERROR":V=0:GOSUB2000
40 M=8:N$="VALID":F$="JSON":V=-1:GOSUB2000
50 END
1000 OPEN A$ FOR INPUT AS 1
1010 S=LOF(1)
1020 IF S<=0 THEN CLOSE1:RETURN
1030 IF S>200 THEN M=200 ELSE M=S
1040 P$=INPUT$(M,1)
1050 FORX=1TOM:POKEAD+X-1,ASC(MID$(P$,X,1)):NEXT
1060 S=S-M:AD=AD+M
1070 GOTO 1020
2000 FOR I=1 TO M:PRINT"TESTING ";N$;" JSON";I
2010 A$=F$+RIGHT$(STR$(I),1)+".TXT":AD=&H9000:GOSUB 1000
2020 IF USR(&H9000)<>V THEN PRINT "ERROR"
2030 NEXT
2040 RETURN
