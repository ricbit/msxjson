10 CLEAR 500,&H9000
20 BLOAD"JSON.BIN",R
30 FOR I=1 TO 6:PRINT"TESTING INVALID JSON";I
40 A$="ERROR"+RIGHT$(STR$(I),1)+".TXT":AD=&H9000:GOSUB 1000
50 IF USR(&H9000)<>0 THEN PRINT "ERROR"
60 NEXT
61 FOR I=1 TO 8:PRINT"TESTING VALID JSON";I
62 A$="JSON"+RIGHT$(STR$(I),1)+".TXT":AD=&H9000:GOSUB 1000
63 IF USR(&H9000)=0 THEN PRINT "ERROR"
64 NEXT
70 END
1000 OPEN A$ FOR INPUT AS 1
1010 S=LOF(1)
1020 IF S<=0 THEN CLOSE1:RETURN
1030 IF S>200 THEN M=200 ELSE M=S
1040 P$=INPUT$(M,1)
1050 FORX=1TOM:POKEAD+X-1,ASC(MID$(P$,X,1)):NEXT
1060 S=S-M:AD=AD+M
1070 GOTO 1020
